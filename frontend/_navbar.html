<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì„¸ì´í”„í™ˆ</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='logo.svg') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .dropdown{position:relative;display:inline-block;height:100%}
        .dropdown-toggle{background:none;border:none;color:inherit;font:inherit;cursor:pointer;padding:0;display:inline-flex;align-items:center;height:40px;vertical-align:middle;line-height:1;font-size:inherit;gap:4px}
        .dropdown-toggle:hover{color:#1565c0}
        .dropdown-menu{display:none;position:absolute;top:100%;left:0;background:white;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.12);min-width:200px;margin-top:8px;z-index:1000;padding:8px 0}
        .dropdown-menu.show{display:block}
        .dropdown-menu a{display:block;padding:12px 20px;color:#374151;text-decoration:none;transition:all 0.2s}
        .dropdown-menu a:hover{background:#f3f4f6;color:#1565c0}
        .dropdown-arrow{font-size:12px;transition:transform 0.2s}
        .dropdown.active .dropdown-arrow{transform:rotate(180deg)}
        .nav{display:flex;align-items:center;gap:32px}
    </style>
</head>
<body>
<header class="site-header">
    <a href="/" class="logo" style="display:flex;align-items:center;gap:8px;text-decoration:none">
        <img src="{{ url_for('static', filename='logo.svg') }}" alt="ì„¸ì´í”„í™ˆ ë¡œê³ " style="width:40px;height:40px">
        <span style="font-size:1.5rem;font-weight:700;color:#1565c0">SafeHome</span>
    </a>
    <nav class="nav">
        <a href="/">í™ˆ</a>
        <div class="dropdown">
            <button class="dropdown-toggle" onclick="toggleDropdown(event)">ëª©ë¡<span class="dropdown-arrow">â–¼</span></button>
            <div class="dropdown-menu">
                <a href="/map">ìœ„í—˜ ì§€ë„</a>
                <a href="/searchscan">ë§¤ë¬¼ë¶„ì„</a>
                <a href="/self-check">ìê°€ì§„ë‹¨</a>
                <a href="/scam-types">ì „ì„¸ì‚¬ê¸° ìœ í˜•</a>
                <a href="/intro">ì†Œê°œ</a>
                <a href="/about">ë¬¸ì˜í•˜ê¸°</a>
                <a href="/faq">FAQ</a>
                <a href="/reviews">ë¦¬ë·°</a>
            </div>
        </div>
        {% if current_user.is_authenticated %}
            <a href="/mypage">ë§ˆì´í˜ì´ì§€</a>
            <a href="/logout">ë¡œê·¸ì•„ì›ƒ</a>
        {% else %}
            <a href="/login">ë¡œê·¸ì¸</a>
            <a href="/register">íšŒì›ê°€ì…</a>
        {% endif %}
    </nav>
    <div class="sidebar-toggles">
        <button class="sidebar-toggle-btn left-toggle" onclick="toggleLeftSidebar()" title="ë¹ ë¥¸ ë©”ë‰´"><span>â˜°</span></button>
        <button class="sidebar-toggle-btn right-toggle" onclick="toggleRightSidebar()" title="ì•Œë¦¼ & ë„ì›€ë§"><span>ğŸ””</span></button>
    </div>
</header>
<script>
function toggleDropdown(e){e.stopPropagation();const d=e.target.closest('.dropdown'),m=d.querySelector('.dropdown-menu');document.querySelectorAll('.dropdown').forEach(dd=>{if(dd!==d){dd.classList.remove('active');dd.querySelector('.dropdown-menu').classList.remove('show')}});d.classList.toggle('active');m.classList.toggle('show')}
document.addEventListener('click',e=>{if(!e.target.closest('.dropdown')){document.querySelectorAll('.dropdown').forEach(d=>{d.classList.remove('active');d.querySelector('.dropdown-menu').classList.remove('show')})}});
function toggleLeftSidebar(){let s=document.getElementById('left-sidebar')||document.querySelector('.left-sidebar')||document.querySelector('#left-sidebar');if(!s)return;const a=s.classList.contains('active');s.classList.toggle('active');if(s.classList.contains('active')){s.style.transform='translateX(0)';s.style.visibility='visible';setTimeout(()=>{if(typeof loadRecentSearches==='function')loadRecentSearches();if(typeof loadFavorites==='function')loadFavorites()},100)}else{s.style.transform='translateX(-100%)';s.style.visibility='hidden'}}
window.toggleLeftSidebar=toggleLeftSidebar;
function toggleRightSidebar(){let s=document.getElementById('right-sidebar')||document.querySelector('.right-sidebar')||document.querySelector('#right-sidebar');if(!s)return;const a=s.classList.contains('active');s.classList.toggle('active');if(s.classList.contains('active')){s.style.transform='translateX(0)';s.style.visibility='visible';setTimeout(()=>{if(typeof loadNotifications==='function')loadNotifications();if(typeof loadStats==='function')loadStats()},100)}else{s.style.transform='translateX(100%)';s.style.visibility='hidden'}}
</script>
</body>
</html>
